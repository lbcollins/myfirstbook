<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>ModernDive - Lite</title>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
  <meta name="description" content="Combining statistical and computational thinking to make sense of data. An evolution of the traditional introductory statistics curriculum, more focused on reproducible research, data visualization, and modern data analysis techniques and tools including resampling and bootstrapping using R, RStudio, and R Markdown">
  <meta name="generator" content="bookdown 0.3 and GitBook 2.6.7">

  <meta property="og:title" content="ModernDive - Lite" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Combining statistical and computational thinking to make sense of data. An evolution of the traditional introductory statistics curriculum, more focused on reproducible research, data visualization, and modern data analysis techniques and tools including resampling and bootstrapping using R, RStudio, and R Markdown" />
  <meta name="github-repo" content="ismayc/moderndiver-lite" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="ModernDive - Lite" />
  
  <meta name="twitter:description" content="Combining statistical and computational thinking to make sense of data. An evolution of the traditional introductory statistics curriculum, more focused on reproducible research, data visualization, and modern data analysis techniques and tools including resampling and bootstrapping using R, RStudio, and R Markdown" />
  

<meta name="author" content="Chester Ismay and Albert Y. Kim">


<meta name="date" content="2017-05-18">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="4-viz.html">


<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<link href="libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="libs/pagedtable-1.1/js/pagedtable.js"></script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>


  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Preamble</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#principles-of-this-book---for-instructors"><i class="fa fa-check"></i><b>1.1</b> Principles of this Book - For Instructors</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#contribute"><i class="fa fa-check"></i><b>1.2</b> Contribute</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#getting-started---for-students"><i class="fa fa-check"></i><b>1.3</b> Getting Started - For Students</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#colophon"><i class="fa fa-check"></i>Colophon</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="2-intro.html"><a href="2-intro.html"><i class="fa fa-check"></i><b>2</b> Introduction</a><ul>
<li class="chapter" data-level="2.1" data-path="2-intro.html"><a href="2-intro.html#preamble-1"><i class="fa fa-check"></i><b>2.1</b> Preamble</a></li>
<li class="chapter" data-level="2.2" data-path="2-intro.html"><a href="2-intro.html#three-driving-data-sources"><i class="fa fa-check"></i><b>2.2</b> Three driving data sources</a></li>
<li class="chapter" data-level="2.3" data-path="2-intro.html"><a href="2-intro.html#datascience-pipeline"><i class="fa fa-check"></i><b>2.3</b> Data/science pipeline</a></li>
<li class="chapter" data-level="2.4" data-path="2-intro.html"><a href="2-intro.html#reproducibility"><i class="fa fa-check"></i><b>2.4</b> Reproducibility</a></li>
<li class="chapter" data-level="2.5" data-path="2-intro.html"><a href="2-intro.html#who-is-this-book-for"><i class="fa fa-check"></i><b>2.5</b> Who is this book for?</a></li>
</ul></li>
<li class="part"><span><b>I Data Exploration</b></span></li>
<li class="chapter" data-level="3" data-path="3-tidy.html"><a href="3-tidy.html"><i class="fa fa-check"></i><b>3</b> Tidy Data</a><ul>
<li class="chapter" data-level="" data-path="3-tidy.html"><a href="3-tidy.html#needed-packages"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="3.1" data-path="3-tidy.html"><a href="3-tidy.html#what-is-tidy-data"><i class="fa fa-check"></i><b>3.1</b> What is tidy data?</a></li>
<li class="chapter" data-level="3.2" data-path="3-tidy.html"><a href="3-tidy.html#datasets-in-the-nycflights13-package"><i class="fa fa-check"></i><b>3.2</b> Datasets in the <code>nycflights13</code> package</a></li>
<li class="chapter" data-level="3.3" data-path="3-tidy.html"><a href="3-tidy.html#how-is-flights-tidy"><i class="fa fa-check"></i><b>3.3</b> How is <code>flights</code> tidy?</a><ul>
<li class="chapter" data-level="3.3.1" data-path="3-tidy.html"><a href="3-tidy.html#identification-variables"><i class="fa fa-check"></i><b>3.3.1</b> Identification variables</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="3-tidy.html"><a href="3-tidy.html#normal-forms-of-data"><i class="fa fa-check"></i><b>3.4</b> Normal forms of data</a></li>
<li class="chapter" data-level="3.5" data-path="3-tidy.html"><a href="3-tidy.html#whats-to-come"><i class="fa fa-check"></i><b>3.5</b> What’s to come?</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="4-viz.html"><a href="4-viz.html"><i class="fa fa-check"></i><b>4</b> Data Visualization via ggplot2</a><ul>
<li class="chapter" data-level="" data-path="4-viz.html"><a href="4-viz.html#needed-packages-1"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="4.1" data-path="4-viz.html"><a href="4-viz.html#grammarofgraphics"><i class="fa fa-check"></i><b>4.1</b> The Grammar of Graphics</a><ul>
<li class="chapter" data-level="4.1.1" data-path="4-viz.html"><a href="4-viz.html#components-of-grammar"><i class="fa fa-check"></i><b>4.1.1</b> Components of Grammar</a></li>
<li class="chapter" data-level="4.1.2" data-path="4-viz.html"><a href="4-viz.html#napoleans-march-on-moscow"><i class="fa fa-check"></i><b>4.1.2</b> Napolean’s March on Moscow</a></li>
<li class="chapter" data-level="4.1.3" data-path="4-viz.html"><a href="4-viz.html#other-components-of-the-grammar"><i class="fa fa-check"></i><b>4.1.3</b> Other Components of the Grammar</a></li>
<li class="chapter" data-level="4.1.4" data-path="4-viz.html"><a href="4-viz.html#the-ggplot2-package"><i class="fa fa-check"></i><b>4.1.4</b> The ggplot2 Package</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="4-viz.html"><a href="4-viz.html#five-named-graphs---the-5ng"><i class="fa fa-check"></i><b>4.2</b> Five Named Graphs - The 5NG</a></li>
<li class="chapter" data-level="4.3" data-path="4-viz.html"><a href="4-viz.html#scatterplots"><i class="fa fa-check"></i><b>4.3</b> 5NG#1: Scatter-plots</a><ul>
<li class="chapter" data-level="4.3.1" data-path="4-viz.html"><a href="4-viz.html#geompoint"><i class="fa fa-check"></i><b>4.3.1</b> Scatter-plots via geom_point</a></li>
<li class="chapter" data-level="4.3.2" data-path="4-viz.html"><a href="4-viz.html#over-plotting"><i class="fa fa-check"></i><b>4.3.2</b> Over-Plotting</a></li>
<li class="chapter" data-level="4.3.3" data-path="4-viz.html"><a href="4-viz.html#summary"><i class="fa fa-check"></i><b>4.3.3</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="4-viz.html"><a href="4-viz.html#linegraphs"><i class="fa fa-check"></i><b>4.4</b> 5NG#2: Line-graphs</a><ul>
<li class="chapter" data-level="4.4.1" data-path="4-viz.html"><a href="4-viz.html#geomline"><i class="fa fa-check"></i><b>4.4.1</b> Line-graphs via geom_line</a></li>
<li class="chapter" data-level="4.4.2" data-path="4-viz.html"><a href="4-viz.html#summary-1"><i class="fa fa-check"></i><b>4.4.2</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="4-viz.html"><a href="4-viz.html#histograms"><i class="fa fa-check"></i><b>4.5</b> 5NG#3: Histograms</a><ul>
<li class="chapter" data-level="4.5.1" data-path="4-viz.html"><a href="4-viz.html#geomhistogram"><i class="fa fa-check"></i><b>4.5.1</b> Histograms via geom_histogram</a></li>
<li class="chapter" data-level="4.5.2" data-path="4-viz.html"><a href="4-viz.html#adjustbins"><i class="fa fa-check"></i><b>4.5.2</b> Adjusting the Bins</a></li>
<li class="chapter" data-level="4.5.3" data-path="4-viz.html"><a href="4-viz.html#summary-2"><i class="fa fa-check"></i><b>4.5.3</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="4-viz.html"><a href="4-viz.html#facets"><i class="fa fa-check"></i><b>4.6</b> Facets</a></li>
<li class="chapter" data-level="4.7" data-path="4-viz.html"><a href="4-viz.html#ng4-boxplots"><i class="fa fa-check"></i><b>4.7</b> 5NG#4: Boxplots</a><ul>
<li class="chapter" data-level="4.7.1" data-path="4-viz.html"><a href="4-viz.html#geomboxplot"><i class="fa fa-check"></i><b>4.7.1</b> Boxplots via geom_boxplot</a></li>
<li class="chapter" data-level="4.7.2" data-path="4-viz.html"><a href="4-viz.html#summary-3"><i class="fa fa-check"></i><b>4.7.2</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="4-viz.html"><a href="4-viz.html#geombar"><i class="fa fa-check"></i><b>4.8</b> 5NG#5: Barplots</a><ul>
<li class="chapter" data-level="4.8.1" data-path="4-viz.html"><a href="4-viz.html#barplots-via-geom_bar"><i class="fa fa-check"></i><b>4.8.1</b> Barplots via geom_bar</a></li>
<li class="chapter" data-level="4.8.2" data-path="4-viz.html"><a href="4-viz.html#must-avoid-pie-charts"><i class="fa fa-check"></i><b>4.8.2</b> Must avoid pie charts!</a></li>
<li class="chapter" data-level="4.8.3" data-path="4-viz.html"><a href="4-viz.html#using-barplots-to-compare-two-variables"><i class="fa fa-check"></i><b>4.8.3</b> Using barplots to compare two variables</a></li>
<li class="chapter" data-level="4.8.4" data-path="4-viz.html"><a href="4-viz.html#summary-4"><i class="fa fa-check"></i><b>4.8.4</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="4-viz.html"><a href="4-viz.html#conclusion"><i class="fa fa-check"></i><b>4.9</b> Conclusion</a><ul>
<li class="chapter" data-level="4.9.1" data-path="4-viz.html"><a href="4-viz.html#resources"><i class="fa fa-check"></i><b>4.9.1</b> Resources</a></li>
<li class="chapter" data-level="4.9.2" data-path="4-viz.html"><a href="4-viz.html#script-of-r-code"><i class="fa fa-check"></i><b>4.9.2</b> Script of R code</a></li>
<li class="chapter" data-level="4.9.3" data-path="4-viz.html"><a href="4-viz.html#whats-to-come-1"><i class="fa fa-check"></i><b>4.9.3</b> What’s to come?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="5-manip.html"><a href="5-manip.html"><i class="fa fa-check"></i><b>5</b> Data Manipulation via dplyr</a><ul>
<li class="chapter" data-level="" data-path="5-manip.html"><a href="5-manip.html#needed-packages-2"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="5.1" data-path="5-manip.html"><a href="5-manip.html#the-pipe"><i class="fa fa-check"></i><b>5.1</b> The pipe <code>%&gt;%</code></a></li>
<li class="chapter" data-level="5.2" data-path="5-manip.html"><a href="5-manip.html#five-main-verbs---the-5mv"><i class="fa fa-check"></i><b>5.2</b> Five Main Verbs - The 5MV</a><ul>
<li class="chapter" data-level="5.2.1" data-path="5-manip.html"><a href="5-manip.html#filter"><i class="fa fa-check"></i><b>5.2.1</b> 5MV#1: Filter observations using filter</a></li>
<li class="chapter" data-level="5.2.2" data-path="5-manip.html"><a href="5-manip.html#mv2-summarize-variables-using-summarize"><i class="fa fa-check"></i><b>5.2.2</b> 5MV#2: Summarize variables using summarize</a></li>
<li class="chapter" data-level="5.2.3" data-path="5-manip.html"><a href="5-manip.html#mv3-group-rows-using-group_by"><i class="fa fa-check"></i><b>5.2.3</b> 5MV#3: Group rows using group_by</a></li>
<li class="chapter" data-level="5.2.4" data-path="5-manip.html"><a href="5-manip.html#mv4-create-new-variableschange-old-variables-using-mutate"><i class="fa fa-check"></i><b>5.2.4</b> 5MV#4: Create new variables/change old variables using mutate</a></li>
<li class="chapter" data-level="5.2.5" data-path="5-manip.html"><a href="5-manip.html#arrange"><i class="fa fa-check"></i><b>5.2.5</b> 5MV#5: Reorder the data frame using arrange</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="5-manip.html"><a href="5-manip.html#joining-data-frames"><i class="fa fa-check"></i><b>5.3</b> Joining data frames</a><ul>
<li class="chapter" data-level="5.3.1" data-path="5-manip.html"><a href="5-manip.html#joining-by-key-variables"><i class="fa fa-check"></i><b>5.3.1</b> Joining by Key Variables</a></li>
<li class="chapter" data-level="5.3.2" data-path="5-manip.html"><a href="5-manip.html#joining-by-key-variables-with-different-names"><i class="fa fa-check"></i><b>5.3.2</b> Joining by Key Variables with Different Names</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="5-manip.html"><a href="5-manip.html#optional-other-verbs"><i class="fa fa-check"></i><b>5.4</b> Optional: Other verbs</a><ul>
<li class="chapter" data-level="5.4.1" data-path="5-manip.html"><a href="5-manip.html#select"><i class="fa fa-check"></i><b>5.4.1</b> Select variables using select</a></li>
<li class="chapter" data-level="5.4.2" data-path="5-manip.html"><a href="5-manip.html#rename"><i class="fa fa-check"></i><b>5.4.2</b> Rename variables using rename</a></li>
<li class="chapter" data-level="5.4.3" data-path="5-manip.html"><a href="5-manip.html#find-the-top-number-of-values-using-top_n"><i class="fa fa-check"></i><b>5.4.3</b> Find the top number of values using top_n</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="5-manip.html"><a href="5-manip.html#conclusion-1"><i class="fa fa-check"></i><b>5.5</b> Conclusion</a><ul>
<li class="chapter" data-level="5.5.1" data-path="5-manip.html"><a href="5-manip.html#resources-1"><i class="fa fa-check"></i><b>5.5.1</b> Resources</a></li>
<li class="chapter" data-level="5.5.2" data-path="5-manip.html"><a href="5-manip.html#script-of-r-code-1"><i class="fa fa-check"></i><b>5.5.2</b> Script of R code</a></li>
<li class="chapter" data-level="5.5.3" data-path="5-manip.html"><a href="5-manip.html#whats-to-come-2"><i class="fa fa-check"></i><b>5.5.3</b> What’s to come?</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">ModernDive - Lite</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="manip" class="section level1">
<h1><span class="header-section-number">5</span> Data Manipulation via dplyr</h1>
<!--
- Make sure to refer back to plots in the viz chapter and how the
  material here relates to answering those questions
-->
<p>Let’s briefly recap where we have been so far and where we are headed. In Chapter <a href="3-tidy.html#tidy">3</a>, we discussed what it means for data to be tidy. We saw that this refers to observations corresponding to rows and variables being stored in columns (one variable for every column). The entries in the data frame correspond to different combinations of observations (specific instances of observational units) and variables. In the <code>flights</code> data frame, we saw that each row corresponds to a different flight leaving New York City. In other words, the observational unit of that tidy data frame is a flight. The variables are listed as columns and for <code>flights</code> they include both quantitative variables like <code>dep_delay</code> and <code>distance</code> but also categorical variables like <code>carrier</code> and <code>origin</code>. An entry in the table corresponds to a particular flight on a given day and a particular value of a given variable representing that flight.</p>
<p>We saw in Chapter <a href="4-viz.html#viz">4</a> that organizing data in this tidy way makes it easy for us to produce graphics. We can simply specify what variable/column we would like on one axis, what variable we’d like on the other axis, and what type of plot we’d like to make. We can also do things such as changing the color by another variable or change the size of our points by a fourth variable given this tidy data set.</p>
<p>Furthermore, in Chapter <a href="4-viz.html#viz">4</a>, we hinted at some ways to summarize and manipulate data to suit your needs. This chapter expands on this by giving a variety of examples using what we call the <em>Five Main Verbs</em> in the <code>dplyr</code> package <span class="citation">(Wickham and Francois <a href="#ref-R-dplyr">2016</a>)</span>. There are more advanced operations than just these and you’ll see some examples of this near the end of the chapter.</p>
<p>While at various points we specifically make mention to use the <code>View()</code> command to inspect a particular data frame, feel free to do so whenever. In fact, you should get into the habit of doing this for <em>any</em> data frame you work with.</p>
<div id="needed-packages-2" class="section level3 unnumbered">
<h3>Needed packages</h3>
<p>Before we proceed with this chapter, let’s load all the necessary packages.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dplyr)
<span class="kw">library</span>(ggplot2)
<span class="kw">library</span>(nycflights13)
<span class="kw">library</span>(knitr)</code></pre></div>
<!--Subsection on Pipe -->
</div>
<div id="the-pipe" class="section level2">
<h2><span class="header-section-number">5.1</span> The pipe <code>%&gt;%</code></h2>
<p>Before we introduce the five main verbs, we first introduce the pipe operator (<code>%&gt;%</code>). Just as the <code>+</code> sign was used to add layers to a plot created using <code>ggplot()</code>, the pipe operator allows us to chain together <code>dplyr</code> data manipulation functions. The pipe operator can be read as “<em>then</em>”. The <code>%&gt;%</code> operator allows us to go from one step in <code>dplyr</code> to the next easily so we can, for example:</p>
<ul>
<li><code>filter</code> our data frame to only focus on a few rows <em>then</em></li>
<li><code>group_by</code> another variable to create groups <em>then</em></li>
<li><code>summarize</code> this grouped data to calculate the mean for each level of the group.</li>
</ul>
<p>The piping syntax will be our major focus throughout the rest of this book and you’ll find that you’ll quickly be addicted to the chaining with some practice. If you’d like to see more examples on using <code>dplyr</code>, the 5MV (in addition to some other <code>dplyr</code> verbs), and <code>%&gt;%</code> with the <code>nycflights13</code> data set, you can check out Chapter 5 of Hadley and Garrett’s book <span class="citation">(Grolemund and Wickham <a href="#ref-rds2016">2016</a>)</span>.</p>
<!--Subsection on Verbs -->
</div>
<div id="five-main-verbs---the-5mv" class="section level2">
<h2><span class="header-section-number">5.2</span> Five Main Verbs - The 5MV</h2>
<p>The <code>d</code> in <code>dplyr</code> stands for data frames, so the functions here work when you are working with objects of the data frame type. It’s most important for you to focus on the 5MV: the five most commonly used functions that help us manipulate and summarize data. A description of these verbs follows with each subsection devoted to seeing an example of that verb in play (or a combination of a few verbs):</p>
<ul>
<li><code>filter</code>: Pick rows based on conditions about their values</li>
<li><code>summarize</code>: Create summary measures of variables either
<ul>
<li>over the entire data frame</li>
<li>or over groups of observations on variables using <code>group_by</code></li>
</ul></li>
<li><code>mutate</code>: Create a new variable in the data frame by mutating existing ones</li>
<li><code>arrange</code>: Arrange/sort the rows based on one or more variables</li>
</ul>
<p>Just as we had the 5NG (The Five Named Graphs in Chapter <a href="4-viz.html#viz">4</a> using <code>ggplot2</code>) for data visualization, we also have the 5MV here (The Five Main Verbs in <code>dplyr</code>) for data manipulation. All of the 5MVs follow the same syntax with the argument before the pipe <code>%&gt;%</code> being the name of the data frame and then the name of the verb with other arguments specifying which criteria you’d like the verb to work with in parentheses.</p>
<div id="filter" class="section level3">
<h3><span class="header-section-number">5.2.1</span> 5MV#1: Filter observations using filter</h3>
<div class="figure" style="text-align: center"><span id="fig:filter"></span>
<img src="images/filter.png" alt="Filter diagram from Data Wrangling with dplyr and tidyr cheatsheet" width="\textwidth" />
<p class="caption">
Figure 5.1: Filter diagram from Data Wrangling with dplyr and tidyr cheatsheet
</p>
</div>
<p>The <code>filter</code> function here works much like the “Filter” option in Microsoft Excel; it allows you to specify criteria about values of a variable in your data set and then chooses only those rows that match that criteria. We begin by focusing only on flights from New York City to Portland, Oregon. The <code>dest</code> code (or airport code) for Portland, Oregon is <code>&quot;PDX&quot;</code>. Run the following and look at the resulting spreadsheet to ensure that only flights heading to Portland are chosen here:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">portland_flights &lt;-<span class="st"> </span>flights %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(dest ==<span class="st"> &quot;PDX&quot;</span>)
<span class="kw">View</span>(portland_flights)</code></pre></div>
<p>Note the following:</p>
<ul>
<li>The ordering of the commands:
<ul>
<li>Take the data frame <code>flights</code> <em>then</em></li>
<li><code>filter</code> the data frame so that only those where the <code>dest</code> equals <code>&quot;PDX&quot;</code> are included.</li>
</ul></li>
<li>The double equal sign <code>==</code> You are almost guaranteed to make the mistake at least once of only including one equals sign. Let’s see what happens when we make this error:</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">portland_flights &lt;-<span class="st"> </span>flights %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(<span class="dt">dest =</span> <span class="st">&quot;PDX&quot;</span>)</code></pre></div>
<pre><code>Error: filter() takes unnamed arguments. Do you need `==`?</code></pre>
<p>You can combine multiple criteria together using operators that make comparisons:</p>
<ul>
<li><code>|</code> corresponds to “or”</li>
<li><code>&amp;</code> corresponds to “and”</li>
</ul>
<p>We can often skip the use of <code>&amp;</code> and just separate our conditions with a comma. You’ll see this in the example below.</p>
<p>In addition, you can use other mathematical checks (similar to <code>==</code>):</p>
<ul>
<li><code>&gt;</code> corresponds to “greater than”</li>
<li><code>&lt;</code> corresponds to “less than”</li>
<li><code>&gt;=</code> corresponds to “greater than or equal to”</li>
<li><code>&lt;=</code> corresponds to “less than or equal to”</li>
<li><code>!=</code> corresponds to “not equal to”</li>
</ul>
<p>To see many of these in action, let’s select all flights that left JFK airport heading to Burlington, Vermont (<code>&quot;BTV&quot;</code>) or Seattle, Washington (<code>&quot;SEA&quot;</code>) in the months of October, November, or December. Run the following</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">btv_sea_flights_fall &lt;-<span class="st"> </span>flights %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(origin ==<span class="st"> &quot;JFK&quot;</span>, (dest ==<span class="st"> &quot;BTV&quot;</span> |<span class="st"> </span>dest ==<span class="st"> &quot;SEA&quot;</span>), month &gt;=<span class="st"> </span><span class="dv">10</span>)
<span class="kw">View</span>(btv_sea_flights_fall)</code></pre></div>
<p>Note how even though colloquially speaking one might say “all flights leaving Burlington, Vermont <em>and</em> Seattle, Washington”, in terms of computer operations, we really mean “all flights leaving Burlington, Vermont <em>or</em> Seattle, Washington”, because for a given row in the data, <code>dest</code> can either be: “BTV”, “SEA”, or something else, but not “BTV” and “SEA” at the same time.</p>
<p>Another example uses the <code>!</code> to pick rows that <strong>DON’T</strong> match a condition. Here we are selecting rows corresponding to flights that didn’t go to Burlington, VT or Seattle, WA.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">not_BTV_SEA &lt;-<span class="st"> </span>flights %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(!(dest ==<span class="st"> &quot;BTV&quot;</span> |<span class="st"> </span>dest ==<span class="st"> &quot;SEA&quot;</span>))
<span class="kw">View</span>(not_BTV_SEA)</code></pre></div>
<p>As a final note we point out that <code>filter()</code> should often be the first verb you’ll apply to your data. This cleans your data set to only those rows you care about, or put differently, it narrows down the scope to just the observations your care about.</p>
<hr />
<div class="learncheck">
<p>
<strong><em>Learning check</em></strong>
</p>
</div>
<p><strong>(LC5.1)</strong> What’s another way using <code>!</code> we could filter only the rows that are not going to Burlington, VT nor Seattle, WA in the <code>flights</code> data frame? Test this out using the code above.</p>
<hr />
</div>
<div id="mv2-summarize-variables-using-summarize" class="section level3">
<h3><span class="header-section-number">5.2.2</span> 5MV#2: Summarize variables using summarize</h3>
<div class="figure" style="text-align: center"><span id="fig:sum1"></span>
<img src="images/summarize1.png" alt="Summarize diagram from Data Wrangling with dplyr and tidyr cheatsheet" width="\textwidth" />
<p class="caption">
Figure 5.2: Summarize diagram from Data Wrangling with dplyr and tidyr cheatsheet
</p>
</div>
<div class="figure" style="text-align: center"><span id="fig:sum2"></span>
<img src="images/summary.png" alt="Another summarize diagram from Data Wrangling with dplyr and tidyr cheatsheet" width="\textwidth" />
<p class="caption">
Figure 5.3: Another summarize diagram from Data Wrangling with dplyr and tidyr cheatsheet
</p>
</div>
<p>We can calculate the standard deviation and mean of the temperature variable <code>temp</code> in the <code>weather</code> data frame of <code>nycflights13</code> in one step using the <code>summarize</code> function in <code>dplyr</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">summary_temp &lt;-<span class="st"> </span>weather %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">summarize</span>(<span class="dt">mean =</span> <span class="kw">mean</span>(temp), <span class="dt">std_dev =</span> <span class="kw">sd</span>(temp))
<span class="kw">kable</span>(summary_temp)</code></pre></div>
<table>
<thead>
<tr class="header">
<th align="right">mean</th>
<th align="right">std_dev</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
</tbody>
</table>
<p>We’ve created a small data frame here called <code>summary_temp</code> that includes both the <code>mean</code> and the <code>std_dev</code> of the <code>temp</code> variable in <code>weather</code>. Notice as shown in Figures <a href="5-manip.html#fig:sum1">5.2</a> and <a href="5-manip.html#fig:sum2">5.3</a>, the data frame <code>weather</code> went from many rows to a single row of just the summary values in the data frame <code>summary_temp</code>. But why are the mean and standard deviation missing, i.e. <code>NA</code>? Remember that by default the <code>mean</code> and <code>sd</code> functions do not ignore missing values. We need to specify the argument <code>na.rm=TRUE</code> (<code>rm</code> is short for “remove”):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">summary_temp &lt;-<span class="st"> </span>weather %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">summarize</span>(<span class="dt">mean =</span> <span class="kw">mean</span>(temp, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>), <span class="dt">std_dev =</span> <span class="kw">sd</span>(temp, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>))
<span class="kw">kable</span>(summary_temp)</code></pre></div>
<table>
<thead>
<tr class="header">
<th align="right">mean</th>
<th align="right">std_dev</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">55.2</td>
<td align="right">17.78</td>
</tr>
</tbody>
</table>
<p>If we’d like to access either of these values directly we can use the <code>$</code> to specify a column in a data frame. For example:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">summary_temp$mean</code></pre></div>
<pre><code>## [1] 55.2</code></pre>
<p>You’ll often encounter issues with missing values <code>NA</code>. In fact, an entire branch of the field of statistics deals with missing data. However, it is not good practice to include a <code>na.rm = TRUE</code> in your summary commands by default; you should attempt to run them without this argument. The idea being you should at the very least be alerted to the presence of missing values and consider what the impact on the analysis might be if you ignore these values. In other words, <code>na.rm = TRUE</code> should only be used when necessary.</p>
<p>What other summary functions can we use inside the <code>summarize()</code> verb? Any function in R that takes a vector of values and returns just one. Here are just a few:</p>
<ul>
<li><code>min()</code> and <code>max()</code>: the minimum and maximum values respectively</li>
<li><code>IQR()</code>: Interquartile range</li>
<li><code>sum()</code>: the sum</li>
<li><code>n()</code>: a count of the number of rows/observations in each group. This particular summary function will make more sense in the <code>group_by</code> chapter.</li>
</ul>
<hr />
<div class="learncheck">
<p>
<strong><em>Learning check</em></strong>
</p>
</div>
<p><strong>(LC5.2)</strong> Say a doctor is studying the effect of smoking on lung cancer of a large number of patients who have records measured at five year intervals. He notices that a large number of patients have missing data points because the patient has died, so he chooses to ignore these patients in his analysis. What is wrong with this doctor’s approach?</p>
<p><strong>(LC5.3)</strong> Modify the above <code>summarize</code> function to create <code>summary_temp</code> to also use the <code>n()</code> summary function: <code>summarize(count = n())</code>. What does the returned value correspond to?</p>
<p><strong>(LC5.4)</strong> Why doesn’t the following code work? You may want to run the code line by line instead of all at once. In other words, run <code>summary_temp &lt;- weather %&gt;% summarize(mean = mean(temp, na.rm = TRUE))</code> first.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">summary_temp &lt;-<span class="st"> </span>weather %&gt;%<span class="st">   </span>
<span class="st">  </span><span class="kw">summarize</span>(<span class="dt">mean =</span> <span class="kw">mean</span>(temp, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">summarize</span>(<span class="dt">std_dev =</span> <span class="kw">sd</span>(temp, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>))</code></pre></div>
<hr />
</div>
<div id="mv3-group-rows-using-group_by" class="section level3">
<h3><span class="header-section-number">5.2.3</span> 5MV#3: Group rows using group_by</h3>
<div class="figure" style="text-align: center"><span id="fig:groupsummarize"></span>
<img src="images/group_summary.png" alt="Group by and summarize diagram from Data Wrangling with dplyr and tidyr cheatsheet" width="\textwidth" />
<p class="caption">
Figure 5.4: Group by and summarize diagram from Data Wrangling with dplyr and tidyr cheatsheet
</p>
</div>
<p>However, it’s often more useful to summarize a variable based on the groupings of another variable. Let’s say similarly to the previous section, we are interested in the mean and standard deviation of temperatures but <em>grouped by month</em>. This concept can equivalently be articulated as: we want the mean and standard deviation of temperatures</p>
<ol style="list-style-type: decimal">
<li>split by month.</li>
<li>sliced by month.</li>
<li>aggregated by month.</li>
<li>collapsed over month.</li>
</ol>
<p>We believe that you will be amazed at just how simple this is. Run the following code:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">summary_monthly_temp &lt;-<span class="st"> </span>weather %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">group_by</span>(month) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">summarize</span>(<span class="dt">mean =</span> <span class="kw">mean</span>(temp, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>), 
            <span class="dt">std_dev =</span> <span class="kw">sd</span>(temp, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>))
<span class="kw">kable</span>(summary_monthly_temp)</code></pre></div>
<table>
<thead>
<tr class="header">
<th align="right">month</th>
<th align="right">mean</th>
<th align="right">std_dev</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="right">35.64</td>
<td align="right">10.185</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="right">34.15</td>
<td align="right">6.940</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="right">39.81</td>
<td align="right">6.225</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="right">51.67</td>
<td align="right">8.785</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="right">61.59</td>
<td align="right">9.609</td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="right">72.14</td>
<td align="right">7.603</td>
</tr>
<tr class="odd">
<td align="right">7</td>
<td align="right">80.01</td>
<td align="right">7.148</td>
</tr>
<tr class="even">
<td align="right">8</td>
<td align="right">74.40</td>
<td align="right">5.171</td>
</tr>
<tr class="odd">
<td align="right">9</td>
<td align="right">67.43</td>
<td align="right">8.476</td>
</tr>
<tr class="even">
<td align="right">10</td>
<td align="right">60.03</td>
<td align="right">8.830</td>
</tr>
<tr class="odd">
<td align="right">11</td>
<td align="right">45.11</td>
<td align="right">10.502</td>
</tr>
<tr class="even">
<td align="right">12</td>
<td align="right">38.37</td>
<td align="right">9.941</td>
</tr>
</tbody>
</table>
<p>This code is identical to the previous code that created <code>summary_temp</code>, but there is an extra <code>group_by(month)</code> spliced in between. By simply grouping the <code>weather</code> data set by <code>month</code> first and then passing this new data frame into <code>summarize</code> we get a resulting data frame that shows the mean and standard deviation temperature for each month in New York City. Since each row in <code>summary_monthly_temp</code> represents a summary of different rows in <code>weather</code>, the observational units have changed.</p>
<p>It is important to note that <code>group_by</code> doesn’t actually change the data frame. It simply sets <em>meta-data</em> (data about the data), specifically the group structure of the data. It is only after we apply the <code>summarize</code> function that the data frame actually changes. If we would like to remove this group structure meta-data, we can pipe a resulting data frame into the <code>ungroup()</code> function.</p>
<p>We now revisit the <code>n()</code> counting summary function we introduced in the previous section. For example, suppose we’d like to get a sense for how many flights departed each of the three airports in New York City:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">by_origin &lt;-<span class="st"> </span>flights %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">group_by</span>(origin) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">summarize</span>(<span class="dt">count =</span> <span class="kw">n</span>())
<span class="kw">kable</span>(by_origin)</code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">origin</th>
<th align="right">count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">EWR</td>
<td align="right">120835</td>
</tr>
<tr class="even">
<td align="left">JFK</td>
<td align="right">111279</td>
</tr>
<tr class="odd">
<td align="left">LGA</td>
<td align="right">104662</td>
</tr>
</tbody>
</table>
<p>We see that Newark (<code>&quot;EWR&quot;</code>) had the most flights departing in 2013 followed by <code>&quot;JFK&quot;</code> and lastly by LaGuardia (<code>&quot;LGA&quot;</code>). Note there is a subtle but important difference between <code>sum()</code> and <code>n()</code>. While <code>sum()</code> simply adds up a large set of numbers, the latter counts the number of times each of many different values occur.</p>
<p>You are not limited to grouping by one variable! Say you wanted to know the number of flights leaving each of the three New York City airports <em>for each month</em>, we can also group by a second variable <code>month</code>: <code>group_by(origin, month)</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">by_monthly_origin &lt;-<span class="st"> </span>flights %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">group_by</span>(origin, month) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">summarize</span>(<span class="dt">count =</span> <span class="kw">n</span>())
<span class="kw">kable</span>(by_monthly_origin)</code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">origin</th>
<th align="right">month</th>
<th align="right">count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">EWR</td>
<td align="right">1</td>
<td align="right">9893</td>
</tr>
<tr class="even">
<td align="left">EWR</td>
<td align="right">2</td>
<td align="right">9107</td>
</tr>
<tr class="odd">
<td align="left">EWR</td>
<td align="right">3</td>
<td align="right">10420</td>
</tr>
<tr class="even">
<td align="left">EWR</td>
<td align="right">4</td>
<td align="right">10531</td>
</tr>
<tr class="odd">
<td align="left">EWR</td>
<td align="right">5</td>
<td align="right">10592</td>
</tr>
<tr class="even">
<td align="left">EWR</td>
<td align="right">6</td>
<td align="right">10175</td>
</tr>
<tr class="odd">
<td align="left">EWR</td>
<td align="right">7</td>
<td align="right">10475</td>
</tr>
<tr class="even">
<td align="left">EWR</td>
<td align="right">8</td>
<td align="right">10359</td>
</tr>
<tr class="odd">
<td align="left">EWR</td>
<td align="right">9</td>
<td align="right">9550</td>
</tr>
<tr class="even">
<td align="left">EWR</td>
<td align="right">10</td>
<td align="right">10104</td>
</tr>
<tr class="odd">
<td align="left">EWR</td>
<td align="right">11</td>
<td align="right">9707</td>
</tr>
<tr class="even">
<td align="left">EWR</td>
<td align="right">12</td>
<td align="right">9922</td>
</tr>
<tr class="odd">
<td align="left">JFK</td>
<td align="right">1</td>
<td align="right">9161</td>
</tr>
<tr class="even">
<td align="left">JFK</td>
<td align="right">2</td>
<td align="right">8421</td>
</tr>
<tr class="odd">
<td align="left">JFK</td>
<td align="right">3</td>
<td align="right">9697</td>
</tr>
<tr class="even">
<td align="left">JFK</td>
<td align="right">4</td>
<td align="right">9218</td>
</tr>
<tr class="odd">
<td align="left">JFK</td>
<td align="right">5</td>
<td align="right">9397</td>
</tr>
<tr class="even">
<td align="left">JFK</td>
<td align="right">6</td>
<td align="right">9472</td>
</tr>
<tr class="odd">
<td align="left">JFK</td>
<td align="right">7</td>
<td align="right">10023</td>
</tr>
<tr class="even">
<td align="left">JFK</td>
<td align="right">8</td>
<td align="right">9983</td>
</tr>
<tr class="odd">
<td align="left">JFK</td>
<td align="right">9</td>
<td align="right">8908</td>
</tr>
<tr class="even">
<td align="left">JFK</td>
<td align="right">10</td>
<td align="right">9143</td>
</tr>
<tr class="odd">
<td align="left">JFK</td>
<td align="right">11</td>
<td align="right">8710</td>
</tr>
<tr class="even">
<td align="left">JFK</td>
<td align="right">12</td>
<td align="right">9146</td>
</tr>
<tr class="odd">
<td align="left">LGA</td>
<td align="right">1</td>
<td align="right">7950</td>
</tr>
<tr class="even">
<td align="left">LGA</td>
<td align="right">2</td>
<td align="right">7423</td>
</tr>
<tr class="odd">
<td align="left">LGA</td>
<td align="right">3</td>
<td align="right">8717</td>
</tr>
<tr class="even">
<td align="left">LGA</td>
<td align="right">4</td>
<td align="right">8581</td>
</tr>
<tr class="odd">
<td align="left">LGA</td>
<td align="right">5</td>
<td align="right">8807</td>
</tr>
<tr class="even">
<td align="left">LGA</td>
<td align="right">6</td>
<td align="right">8596</td>
</tr>
<tr class="odd">
<td align="left">LGA</td>
<td align="right">7</td>
<td align="right">8927</td>
</tr>
<tr class="even">
<td align="left">LGA</td>
<td align="right">8</td>
<td align="right">8985</td>
</tr>
<tr class="odd">
<td align="left">LGA</td>
<td align="right">9</td>
<td align="right">9116</td>
</tr>
<tr class="even">
<td align="left">LGA</td>
<td align="right">10</td>
<td align="right">9642</td>
</tr>
<tr class="odd">
<td align="left">LGA</td>
<td align="right">11</td>
<td align="right">8851</td>
</tr>
<tr class="even">
<td align="left">LGA</td>
<td align="right">12</td>
<td align="right">9067</td>
</tr>
</tbody>
</table>
<p>Alternatively, you can use the shortcut <code>count()</code> function in <code>dplyr</code> to get the same result:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">by_monthly_origin2 &lt;-<span class="st"> </span>flights %&gt;%<span class="st"> </span>
<span class="st">  </span>dplyr::<span class="kw">count</span>(origin, month)
<span class="kw">kable</span>(by_monthly_origin2)</code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">origin</th>
<th align="right">month</th>
<th align="right">n</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">EWR</td>
<td align="right">1</td>
<td align="right">9893</td>
</tr>
<tr class="even">
<td align="left">EWR</td>
<td align="right">2</td>
<td align="right">9107</td>
</tr>
<tr class="odd">
<td align="left">EWR</td>
<td align="right">3</td>
<td align="right">10420</td>
</tr>
<tr class="even">
<td align="left">EWR</td>
<td align="right">4</td>
<td align="right">10531</td>
</tr>
<tr class="odd">
<td align="left">EWR</td>
<td align="right">5</td>
<td align="right">10592</td>
</tr>
<tr class="even">
<td align="left">EWR</td>
<td align="right">6</td>
<td align="right">10175</td>
</tr>
<tr class="odd">
<td align="left">EWR</td>
<td align="right">7</td>
<td align="right">10475</td>
</tr>
<tr class="even">
<td align="left">EWR</td>
<td align="right">8</td>
<td align="right">10359</td>
</tr>
<tr class="odd">
<td align="left">EWR</td>
<td align="right">9</td>
<td align="right">9550</td>
</tr>
<tr class="even">
<td align="left">EWR</td>
<td align="right">10</td>
<td align="right">10104</td>
</tr>
<tr class="odd">
<td align="left">EWR</td>
<td align="right">11</td>
<td align="right">9707</td>
</tr>
<tr class="even">
<td align="left">EWR</td>
<td align="right">12</td>
<td align="right">9922</td>
</tr>
<tr class="odd">
<td align="left">JFK</td>
<td align="right">1</td>
<td align="right">9161</td>
</tr>
<tr class="even">
<td align="left">JFK</td>
<td align="right">2</td>
<td align="right">8421</td>
</tr>
<tr class="odd">
<td align="left">JFK</td>
<td align="right">3</td>
<td align="right">9697</td>
</tr>
<tr class="even">
<td align="left">JFK</td>
<td align="right">4</td>
<td align="right">9218</td>
</tr>
<tr class="odd">
<td align="left">JFK</td>
<td align="right">5</td>
<td align="right">9397</td>
</tr>
<tr class="even">
<td align="left">JFK</td>
<td align="right">6</td>
<td align="right">9472</td>
</tr>
<tr class="odd">
<td align="left">JFK</td>
<td align="right">7</td>
<td align="right">10023</td>
</tr>
<tr class="even">
<td align="left">JFK</td>
<td align="right">8</td>
<td align="right">9983</td>
</tr>
<tr class="odd">
<td align="left">JFK</td>
<td align="right">9</td>
<td align="right">8908</td>
</tr>
<tr class="even">
<td align="left">JFK</td>
<td align="right">10</td>
<td align="right">9143</td>
</tr>
<tr class="odd">
<td align="left">JFK</td>
<td align="right">11</td>
<td align="right">8710</td>
</tr>
<tr class="even">
<td align="left">JFK</td>
<td align="right">12</td>
<td align="right">9146</td>
</tr>
<tr class="odd">
<td align="left">LGA</td>
<td align="right">1</td>
<td align="right">7950</td>
</tr>
<tr class="even">
<td align="left">LGA</td>
<td align="right">2</td>
<td align="right">7423</td>
</tr>
<tr class="odd">
<td align="left">LGA</td>
<td align="right">3</td>
<td align="right">8717</td>
</tr>
<tr class="even">
<td align="left">LGA</td>
<td align="right">4</td>
<td align="right">8581</td>
</tr>
<tr class="odd">
<td align="left">LGA</td>
<td align="right">5</td>
<td align="right">8807</td>
</tr>
<tr class="even">
<td align="left">LGA</td>
<td align="right">6</td>
<td align="right">8596</td>
</tr>
<tr class="odd">
<td align="left">LGA</td>
<td align="right">7</td>
<td align="right">8927</td>
</tr>
<tr class="even">
<td align="left">LGA</td>
<td align="right">8</td>
<td align="right">8985</td>
</tr>
<tr class="odd">
<td align="left">LGA</td>
<td align="right">9</td>
<td align="right">9116</td>
</tr>
<tr class="even">
<td align="left">LGA</td>
<td align="right">10</td>
<td align="right">9642</td>
</tr>
<tr class="odd">
<td align="left">LGA</td>
<td align="right">11</td>
<td align="right">8851</td>
</tr>
<tr class="even">
<td align="left">LGA</td>
<td align="right">12</td>
<td align="right">9067</td>
</tr>
</tbody>
</table>
<hr />
<div class="learncheck">
<p>
<strong><em>Learning check</em></strong>
</p>
</div>
<p><strong>(LC5.5)</strong> Recall from Chapter <a href="4-viz.html#viz">4</a> when we looked at plots of temperatures by months in NYC. What does the standard deviation column in the <code>summary_monthly_temp</code> data frame tell us about temperatures in New York City throughout the year?</p>
<p><strong>(LC5.6)</strong> What code would be required to get the mean and standard deviation temperature for each day in 2013 for NYC?</p>
<p><strong>(LC5.7)</strong> Recreate <code>by_monthly_origin</code>, but instead of grouping via <code>group_by(origin, month)</code>, group variables in a different order <code>group_by(month, origin)</code>. What differs in the resulting data set?</p>
<p><strong>(LC5.8)</strong> How could we identify how many flights left each of the three airports for each <code>carrier</code>?</p>
<p><strong>(LC5.9)</strong> How does the <code>filter</code> operation differ from a <code>group_by</code> followed by a <code>summarize</code>?</p>
<hr />
</div>
<div id="mv4-create-new-variableschange-old-variables-using-mutate" class="section level3">
<h3><span class="header-section-number">5.2.4</span> 5MV#4: Create new variables/change old variables using mutate</h3>
<div class="figure" style="text-align: center"><span id="fig:select"></span>
<img src="images/mutate.png" alt="Mutate diagram from Data Wrangling with dplyr and tidyr cheatsheet" width="\textwidth" />
<p class="caption">
Figure 5.5: Mutate diagram from Data Wrangling with dplyr and tidyr cheatsheet
</p>
</div>
<p>When looking at the <code>flights</code> data set, there are some clear additional variables that could be calculated based on the values of variables already in the data set. Passengers are often frustrated when their flights departs late, but change their mood a bit if pilots can make up some time during the flight to get them to their destination close to when they expected to land. This is commonly referred to as “gain” and we will create this variable using the <code>mutate</code> function. Note that we have also overwritten the <code>flights</code> data frame with what it was before as well as an additional variable <code>gain</code> here.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">flights &lt;-<span class="st"> </span>flights %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">gain =</span> arr_delay -<span class="st"> </span>dep_delay)</code></pre></div>
<p>Why did we overwrite <code>flights</code> instead of assigning the resulting data frame to a new object, like <code>flights_with_gain</code>? As a rough rule of thumb, as long as you are not losing information that you might need later, its acceptable practice to overwrite data frames. However, if you overwrite existing variables and/or change the observational units, recovering the original information might prove difficult. In this case, it might make sense to create a new data object.</p>
<p>Let’s look at summary measures of this <code>gain</code> variable and even plot it in the form of a histogram:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gain_summary &lt;-<span class="st"> </span>flights %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">summarize</span>(
    <span class="dt">min =</span> <span class="kw">min</span>(gain, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>),
    <span class="dt">q1 =</span> <span class="kw">quantile</span>(gain, <span class="fl">0.25</span>, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>),
    <span class="dt">median =</span> <span class="kw">quantile</span>(gain, <span class="fl">0.5</span>, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>),
    <span class="dt">q3 =</span> <span class="kw">quantile</span>(gain, <span class="fl">0.75</span>, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>),
    <span class="dt">max =</span> <span class="kw">max</span>(gain, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>),
    <span class="dt">mean =</span> <span class="kw">mean</span>(gain, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>),
    <span class="dt">sd =</span> <span class="kw">sd</span>(gain, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>),
    <span class="dt">missing =</span> <span class="kw">sum</span>(<span class="kw">is.na</span>(gain))
  )
<span class="kw">kable</span>(gain_summary)</code></pre></div>
<table>
<thead>
<tr class="header">
<th align="right">min</th>
<th align="right">q1</th>
<th align="right">median</th>
<th align="right">q3</th>
<th align="right">max</th>
<th align="right">mean</th>
<th align="right">sd</th>
<th align="right">missing</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">-109</td>
<td align="right">-17</td>
<td align="right">-7</td>
<td align="right">3</td>
<td align="right">196</td>
<td align="right">-5.66</td>
<td align="right">18.04</td>
<td align="right">9430</td>
</tr>
</tbody>
</table>
<p>We’ve recreated the <code>summary</code> function we saw in Chapter <a href="4-viz.html#viz">4</a> here using the <code>summarize</code> function in <code>dplyr</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(<span class="dt">data =</span> flights, <span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> gain)) +
<span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">color =</span> <span class="st">&quot;white&quot;</span>, <span class="dt">bins =</span> <span class="dv">20</span>)</code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-48"></span>
<img src="collins_files/figure-html/unnamed-chunk-48-1.png" alt="Histogram of gain variable" width="\textwidth" />
<p class="caption">
Figure 5.6: Histogram of gain variable
</p>
</div>
<p>We can also create multiple columns at once and even refer to columns that were just created in a new column. Hadley produces one such example in Chapter 5 of “R for Data Science” <span class="citation">(Grolemund and Wickham <a href="#ref-rds2016">2016</a>)</span>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">flights &lt;-<span class="st"> </span>flights %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(
    <span class="dt">gain =</span> arr_delay -<span class="st"> </span>dep_delay,
    <span class="dt">hours =</span> air_time /<span class="st"> </span><span class="dv">60</span>,
    <span class="dt">gain_per_hour =</span> gain /<span class="st"> </span>hours
  )</code></pre></div>
<hr />
<div class="learncheck">
<p>
<strong><em>Learning check</em></strong>
</p>
</div>
<p><strong>(LC5.10)</strong> What do positive values of the <code>gain</code> variable in <code>flights</code> correspond to? What about negative values? And what about a zero value?</p>
<p><strong>(LC5.11)</strong> Could we create the <code>dep_delay</code> and <code>arr_delay</code> columns by simply subtracting <code>dep_time</code> from <code>sched_dep_time</code> and similarly for arrivals? Try the code out and explain any differences between the result and what actually appears in <code>flights</code>.</p>
<p><strong>(LC5.12)</strong> What can we say about the distribution of <code>gain</code>? Describe it in a few sentences using the plot and the <code>gain_summary</code> data frame values.</p>
<hr />
</div>
<div id="arrange" class="section level3">
<h3><span class="header-section-number">5.2.5</span> 5MV#5: Reorder the data frame using arrange</h3>
<p>As you may have thought about with the data frames we’ve worked with so far in the book, one of the most common things you’d like to do is sort the data frames by a specific variable in a column. Have you ever been asked to calculate a median by hand? This requires you to put the data in order from smallest to highest in value. The <code>dplyr</code> package has a function called <code>arrange</code> that we will use to sort/reorder our data according to the values of the specified variable. This is often used after we have used the <code>group_by</code> and <code>summarize</code> functions as we will see.</p>
<p>Let’s suppose we were interested in determining the most frequent destination airports from New York City in 2013:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">freq_dest &lt;-<span class="st"> </span>flights %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">group_by</span>(dest) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">summarize</span>(<span class="dt">num_flights =</span> <span class="kw">n</span>())
freq_dest</code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["dest"],"name":[1],"type":["chr"],"align":["left"]},{"label":["num_flights"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"ABQ","2":"254"},{"1":"ACK","2":"265"},{"1":"ALB","2":"439"},{"1":"ANC","2":"8"},{"1":"ATL","2":"17215"},{"1":"AUS","2":"2439"},{"1":"AVL","2":"275"},{"1":"BDL","2":"443"},{"1":"BGR","2":"375"},{"1":"BHM","2":"297"},{"1":"BNA","2":"6333"},{"1":"BOS","2":"15508"},{"1":"BQN","2":"896"},{"1":"BTV","2":"2589"},{"1":"BUF","2":"4681"},{"1":"BUR","2":"371"},{"1":"BWI","2":"1781"},{"1":"BZN","2":"36"},{"1":"CAE","2":"116"},{"1":"CAK","2":"864"},{"1":"CHO","2":"52"},{"1":"CHS","2":"2884"},{"1":"CLE","2":"4573"},{"1":"CLT","2":"14064"},{"1":"CMH","2":"3524"},{"1":"CRW","2":"138"},{"1":"CVG","2":"3941"},{"1":"DAY","2":"1525"},{"1":"DCA","2":"9705"},{"1":"DEN","2":"7266"},{"1":"DFW","2":"8738"},{"1":"DSM","2":"569"},{"1":"DTW","2":"9384"},{"1":"EGE","2":"213"},{"1":"EYW","2":"17"},{"1":"FLL","2":"12055"},{"1":"GRR","2":"765"},{"1":"GSO","2":"1606"},{"1":"GSP","2":"849"},{"1":"HDN","2":"15"},{"1":"HNL","2":"707"},{"1":"HOU","2":"2115"},{"1":"IAD","2":"5700"},{"1":"IAH","2":"7198"},{"1":"ILM","2":"110"},{"1":"IND","2":"2077"},{"1":"JAC","2":"25"},{"1":"JAX","2":"2720"},{"1":"LAS","2":"5997"},{"1":"LAX","2":"16174"},{"1":"LEX","2":"1"},{"1":"LGA","2":"1"},{"1":"LGB","2":"668"},{"1":"MCI","2":"2008"},{"1":"MCO","2":"14082"},{"1":"MDW","2":"4113"},{"1":"MEM","2":"1789"},{"1":"MHT","2":"1009"},{"1":"MIA","2":"11728"},{"1":"MKE","2":"2802"},{"1":"MSN","2":"572"},{"1":"MSP","2":"7185"},{"1":"MSY","2":"3799"},{"1":"MTJ","2":"15"},{"1":"MVY","2":"221"},{"1":"MYR","2":"59"},{"1":"OAK","2":"312"},{"1":"OKC","2":"346"},{"1":"OMA","2":"849"},{"1":"ORD","2":"17283"},{"1":"ORF","2":"1536"},{"1":"PBI","2":"6554"},{"1":"PDX","2":"1354"},{"1":"PHL","2":"1632"},{"1":"PHX","2":"4656"},{"1":"PIT","2":"2875"},{"1":"PSE","2":"365"},{"1":"PSP","2":"19"},{"1":"PVD","2":"376"},{"1":"PWM","2":"2352"},{"1":"RDU","2":"8163"},{"1":"RIC","2":"2454"},{"1":"ROC","2":"2416"},{"1":"RSW","2":"3537"},{"1":"SAN","2":"2737"},{"1":"SAT","2":"686"},{"1":"SAV","2":"804"},{"1":"SBN","2":"10"},{"1":"SDF","2":"1157"},{"1":"SEA","2":"3923"},{"1":"SFO","2":"13331"},{"1":"SJC","2":"329"},{"1":"SJU","2":"5819"},{"1":"SLC","2":"2467"},{"1":"SMF","2":"284"},{"1":"SNA","2":"825"},{"1":"SRQ","2":"1211"},{"1":"STL","2":"4339"},{"1":"STT","2":"522"},{"1":"SYR","2":"1761"},{"1":"TPA","2":"7466"},{"1":"TUL","2":"315"},{"1":"TVC","2":"101"},{"1":"TYS","2":"631"},{"1":"XNA","2":"1036"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[25],"max":[25]},"pages":{}}}
  </script>
</div>
<p>You’ll see that by default the values of <code>dest</code> are displayed in alphabetical order here. We are interested in finding those airports that appear most:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">freq_dest %&gt;%<span class="st"> </span><span class="kw">arrange</span>(num_flights)</code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["dest"],"name":[1],"type":["chr"],"align":["left"]},{"label":["num_flights"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"LEX","2":"1"},{"1":"LGA","2":"1"},{"1":"ANC","2":"8"},{"1":"SBN","2":"10"},{"1":"HDN","2":"15"},{"1":"MTJ","2":"15"},{"1":"EYW","2":"17"},{"1":"PSP","2":"19"},{"1":"JAC","2":"25"},{"1":"BZN","2":"36"},{"1":"CHO","2":"52"},{"1":"MYR","2":"59"},{"1":"TVC","2":"101"},{"1":"ILM","2":"110"},{"1":"CAE","2":"116"},{"1":"CRW","2":"138"},{"1":"EGE","2":"213"},{"1":"MVY","2":"221"},{"1":"ABQ","2":"254"},{"1":"ACK","2":"265"},{"1":"AVL","2":"275"},{"1":"SMF","2":"284"},{"1":"BHM","2":"297"},{"1":"OAK","2":"312"},{"1":"TUL","2":"315"},{"1":"SJC","2":"329"},{"1":"OKC","2":"346"},{"1":"PSE","2":"365"},{"1":"BUR","2":"371"},{"1":"BGR","2":"375"},{"1":"PVD","2":"376"},{"1":"ALB","2":"439"},{"1":"BDL","2":"443"},{"1":"STT","2":"522"},{"1":"DSM","2":"569"},{"1":"MSN","2":"572"},{"1":"TYS","2":"631"},{"1":"LGB","2":"668"},{"1":"SAT","2":"686"},{"1":"HNL","2":"707"},{"1":"GRR","2":"765"},{"1":"SAV","2":"804"},{"1":"SNA","2":"825"},{"1":"GSP","2":"849"},{"1":"OMA","2":"849"},{"1":"CAK","2":"864"},{"1":"BQN","2":"896"},{"1":"MHT","2":"1009"},{"1":"XNA","2":"1036"},{"1":"SDF","2":"1157"},{"1":"SRQ","2":"1211"},{"1":"PDX","2":"1354"},{"1":"DAY","2":"1525"},{"1":"ORF","2":"1536"},{"1":"GSO","2":"1606"},{"1":"PHL","2":"1632"},{"1":"SYR","2":"1761"},{"1":"BWI","2":"1781"},{"1":"MEM","2":"1789"},{"1":"MCI","2":"2008"},{"1":"IND","2":"2077"},{"1":"HOU","2":"2115"},{"1":"PWM","2":"2352"},{"1":"ROC","2":"2416"},{"1":"AUS","2":"2439"},{"1":"RIC","2":"2454"},{"1":"SLC","2":"2467"},{"1":"BTV","2":"2589"},{"1":"JAX","2":"2720"},{"1":"SAN","2":"2737"},{"1":"MKE","2":"2802"},{"1":"PIT","2":"2875"},{"1":"CHS","2":"2884"},{"1":"CMH","2":"3524"},{"1":"RSW","2":"3537"},{"1":"MSY","2":"3799"},{"1":"SEA","2":"3923"},{"1":"CVG","2":"3941"},{"1":"MDW","2":"4113"},{"1":"STL","2":"4339"},{"1":"CLE","2":"4573"},{"1":"PHX","2":"4656"},{"1":"BUF","2":"4681"},{"1":"IAD","2":"5700"},{"1":"SJU","2":"5819"},{"1":"LAS","2":"5997"},{"1":"BNA","2":"6333"},{"1":"PBI","2":"6554"},{"1":"MSP","2":"7185"},{"1":"IAH","2":"7198"},{"1":"DEN","2":"7266"},{"1":"TPA","2":"7466"},{"1":"RDU","2":"8163"},{"1":"DFW","2":"8738"},{"1":"DTW","2":"9384"},{"1":"DCA","2":"9705"},{"1":"MIA","2":"11728"},{"1":"FLL","2":"12055"},{"1":"SFO","2":"13331"},{"1":"CLT","2":"14064"},{"1":"MCO","2":"14082"},{"1":"BOS","2":"15508"},{"1":"LAX","2":"16174"},{"1":"ATL","2":"17215"},{"1":"ORD","2":"17283"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[25],"max":[25]},"pages":{}}}
  </script>
</div>
<p>This is actually giving us the opposite of what we are looking for. It tells us the least frequent destination airports first. To switch the ordering to be descending instead of ascending we use the <code>desc</code> function:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">freq_dest %&gt;%<span class="st"> </span><span class="kw">arrange</span>(<span class="kw">desc</span>(num_flights))</code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["dest"],"name":[1],"type":["chr"],"align":["left"]},{"label":["num_flights"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"ORD","2":"17283"},{"1":"ATL","2":"17215"},{"1":"LAX","2":"16174"},{"1":"BOS","2":"15508"},{"1":"MCO","2":"14082"},{"1":"CLT","2":"14064"},{"1":"SFO","2":"13331"},{"1":"FLL","2":"12055"},{"1":"MIA","2":"11728"},{"1":"DCA","2":"9705"},{"1":"DTW","2":"9384"},{"1":"DFW","2":"8738"},{"1":"RDU","2":"8163"},{"1":"TPA","2":"7466"},{"1":"DEN","2":"7266"},{"1":"IAH","2":"7198"},{"1":"MSP","2":"7185"},{"1":"PBI","2":"6554"},{"1":"BNA","2":"6333"},{"1":"LAS","2":"5997"},{"1":"SJU","2":"5819"},{"1":"IAD","2":"5700"},{"1":"BUF","2":"4681"},{"1":"PHX","2":"4656"},{"1":"CLE","2":"4573"},{"1":"STL","2":"4339"},{"1":"MDW","2":"4113"},{"1":"CVG","2":"3941"},{"1":"SEA","2":"3923"},{"1":"MSY","2":"3799"},{"1":"RSW","2":"3537"},{"1":"CMH","2":"3524"},{"1":"CHS","2":"2884"},{"1":"PIT","2":"2875"},{"1":"MKE","2":"2802"},{"1":"SAN","2":"2737"},{"1":"JAX","2":"2720"},{"1":"BTV","2":"2589"},{"1":"SLC","2":"2467"},{"1":"RIC","2":"2454"},{"1":"AUS","2":"2439"},{"1":"ROC","2":"2416"},{"1":"PWM","2":"2352"},{"1":"HOU","2":"2115"},{"1":"IND","2":"2077"},{"1":"MCI","2":"2008"},{"1":"MEM","2":"1789"},{"1":"BWI","2":"1781"},{"1":"SYR","2":"1761"},{"1":"PHL","2":"1632"},{"1":"GSO","2":"1606"},{"1":"ORF","2":"1536"},{"1":"DAY","2":"1525"},{"1":"PDX","2":"1354"},{"1":"SRQ","2":"1211"},{"1":"SDF","2":"1157"},{"1":"XNA","2":"1036"},{"1":"MHT","2":"1009"},{"1":"BQN","2":"896"},{"1":"CAK","2":"864"},{"1":"GSP","2":"849"},{"1":"OMA","2":"849"},{"1":"SNA","2":"825"},{"1":"SAV","2":"804"},{"1":"GRR","2":"765"},{"1":"HNL","2":"707"},{"1":"SAT","2":"686"},{"1":"LGB","2":"668"},{"1":"TYS","2":"631"},{"1":"MSN","2":"572"},{"1":"DSM","2":"569"},{"1":"STT","2":"522"},{"1":"BDL","2":"443"},{"1":"ALB","2":"439"},{"1":"PVD","2":"376"},{"1":"BGR","2":"375"},{"1":"BUR","2":"371"},{"1":"PSE","2":"365"},{"1":"OKC","2":"346"},{"1":"SJC","2":"329"},{"1":"TUL","2":"315"},{"1":"OAK","2":"312"},{"1":"BHM","2":"297"},{"1":"SMF","2":"284"},{"1":"AVL","2":"275"},{"1":"ACK","2":"265"},{"1":"ABQ","2":"254"},{"1":"MVY","2":"221"},{"1":"EGE","2":"213"},{"1":"CRW","2":"138"},{"1":"CAE","2":"116"},{"1":"ILM","2":"110"},{"1":"TVC","2":"101"},{"1":"MYR","2":"59"},{"1":"CHO","2":"52"},{"1":"BZN","2":"36"},{"1":"JAC","2":"25"},{"1":"PSP","2":"19"},{"1":"EYW","2":"17"},{"1":"HDN","2":"15"},{"1":"MTJ","2":"15"},{"1":"SBN","2":"10"},{"1":"ANC","2":"8"},{"1":"LEX","2":"1"},{"1":"LGA","2":"1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[25],"max":[25]},"pages":{}}}
  </script>
</div>
<!--Chapter on joins-->
</div>
</div>
<div id="joining-data-frames" class="section level2">
<h2><span class="header-section-number">5.3</span> Joining data frames</h2>
<p>Another common task is joining/merging two different data sets. For example, in the <code>flights</code> data, the variable <code>carrier</code> lists the carrier code for the different flights. While <code>&quot;UA&quot;</code> and <code>&quot;AA&quot;</code> might be somewhat easy to guess for some (United and American Airlines), what are “VX”, “HA”, and “B6”? This information is provided in a separate data frame <code>airlines</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">View</span>(airlines)</code></pre></div>
<p>We see that in <code>airports</code>, <code>carrier</code> is the carrier code while <code>name</code> is the full name of the airline. Using this table, we can see that “VX”, “HA”, and “B6” correspond to Virgin America, Hawaiian Airlines, and JetBlue respectively. However, will we have to continually look up the carrier’s name for each flight in the <code>airlines</code> data set? No! Instead of having to manually do this, we can have R automatically do this “looking up” for us.</p>
<p>Note that the values in the variable <code>carrier</code> in <code>flights</code> match the values in the variable <code>carrier</code> in <code>airlines</code>. In this case, we can use the variable <code>carrier</code> as a <em>key variable</em> to join/merge/match the two data frames by. Hadley and Garrett <span class="citation">(Grolemund and Wickham <a href="#ref-rds2016">2016</a>)</span> created the following diagram to help us understand how the different data sets are linked:</p>
<div class="figure" style="text-align: center"><span id="fig:reldiagram"></span>
<img src="images/relational-nycflights.png" alt="Data relationships in nycflights13 from R for Data Science" width="\textwidth" />
<p class="caption">
Figure 5.7: Data relationships in nycflights13 from R for Data Science
</p>
</div>
<div id="joining-by-key-variables" class="section level3">
<h3><span class="header-section-number">5.3.1</span> Joining by Key Variables</h3>
<p>In both <code>flights</code> and <code>airlines</code>, the key variable we want to join/merge/match the two data frames with has the same name in both data sets: <code>carriers</code>. We make use of the <code>inner_join()</code> function to join by the variable <code>carrier</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">flights_joined &lt;-<span class="st"> </span>flights %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">inner_join</span>(airlines, <span class="dt">by =</span> <span class="st">&quot;carrier&quot;</span>)
<span class="kw">View</span>(flights)
<span class="kw">View</span>(flights_joined)</code></pre></div>
<p>We observed that the <code>flights</code> and <code>flights_joined</code> are identical except that <code>flights_joined</code> has an additional variable <code>name</code> whose values were drawn from <code>airlines</code>.</p>
<p>A visual representation of the <code>inner_join</code> is given below <span class="citation">(Grolemund and Wickham <a href="#ref-rds2016">2016</a>)</span>:</p>
<div class="figure" style="text-align: center"><span id="fig:ijdiagram"></span>
<img src="images/join-inner.png" alt="Diagram of inner join from R for Data Science" width="\textwidth" />
<p class="caption">
Figure 5.8: Diagram of inner join from R for Data Science
</p>
</div>
<p>There are more complex joins available, but the <code>inner_join</code> will solve nearly all of the problems you’ll face in our experience.</p>
</div>
<div id="joining-by-key-variables-with-different-names" class="section level3">
<h3><span class="header-section-number">5.3.2</span> Joining by Key Variables with Different Names</h3>
<p>Say instead, you are interested in all the destinations of flights from NYC in 2013 and ask yourself:</p>
<ul>
<li>“What cities are these airports in?”</li>
<li>“Is <code>&quot;ORD&quot;</code> Orlando?”</li>
<li>“Where is <code>&quot;FLL&quot;</code>?</li>
</ul>
<p>The <code>airports</code> data frame contains airport codes:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">View</span>(airports)</code></pre></div>
<p>However, looking at both the <code>airports</code> and <code>flights</code> and the visual representation of the relations between the data frames in Figure <a href="5-manip.html#fig:ijdiagram">5.8</a>, we see that in:</p>
<ul>
<li><code>airports</code> the airport code is in the variable <code>faa</code></li>
<li><code>flights</code> the airport code is in the variable <code>origin</code></li>
</ul>
<p>So to join these two data sets, our <code>inner_join</code> operation involves a <code>by</code> argument that accounts for the different names:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">flights %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">inner_join</span>(airports, <span class="dt">by =</span> <span class="kw">c</span>(<span class="st">&quot;dest&quot;</span> =<span class="st"> &quot;faa&quot;</span>))</code></pre></div>
<p>Let’s construct the sequence of commands that computes the number of flights from NYC to each destination but also includes information about each destination airport:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">named_dests &lt;-<span class="st"> </span>flights %&gt;%
<span class="st">  </span><span class="kw">group_by</span>(dest) %&gt;%
<span class="st">  </span><span class="kw">summarize</span>(<span class="dt">num_flights =</span> <span class="kw">n</span>()) %&gt;%
<span class="st">  </span><span class="kw">arrange</span>(<span class="kw">desc</span>(num_flights)) %&gt;%
<span class="st">  </span><span class="kw">inner_join</span>(airports, <span class="dt">by =</span> <span class="kw">c</span>(<span class="st">&quot;dest&quot;</span> =<span class="st"> &quot;faa&quot;</span>)) %&gt;%
<span class="st">  </span><span class="kw">rename</span>(<span class="dt">airport_name =</span> name)
<span class="kw">View</span>(named_dests)</code></pre></div>
<p>In case you didn’t know, <code>&quot;ORD&quot;</code> is the airport code of Chicago O’Hare airport and <code>&quot;FLL&quot;</code> is the main airport in Fort Lauderdale, Florida, which we can now see in our <code>named_freq_dests</code> data frame.</p>
<hr />
<div class="learncheck">
<p>
<strong><em>Learning check</em></strong>
</p>
</div>
<p><strong>(LC5.13)</strong> Looking at Figure <a href="5-manip.html#fig:reldiagram">5.7</a>, when joining <code>flights</code> and <code>weather</code> (or, in other words, matching the hourly weather values with each flight), why do we need to join by all of <code>year</code>, <code>month</code>, <code>day</code>, <code>hour</code>, and <code>origin</code>, and not just <code>hour</code>?</p>
<p><strong>(LC5.14)</strong> What surprises you about the top 10 destinations from NYC in 2013?</p>
<hr />
<!--Subsection on Other Verbs -->
</div>
</div>
<div id="optional-other-verbs" class="section level2">
<h2><span class="header-section-number">5.4</span> Optional: Other verbs</h2>
<div id="select" class="section level3">
<h3><span class="header-section-number">5.4.1</span> Select variables using select</h3>
<div class="figure" style="text-align: center"><span id="fig:selectfig"></span>
<img src="images/select.png" alt="Select diagram from Data Wrangling with dplyr and tidyr cheatsheet" width="\textwidth" />
<p class="caption">
Figure 5.9: Select diagram from Data Wrangling with dplyr and tidyr cheatsheet
</p>
</div>
<p>We’ve seen that the <code>flights</code> data frame in the <code>nycflights13</code> package contains many different variables. The <code>names</code> function gives a listing of all the columns in a data frame; in our case you would run <code>names(flights)</code>. You can also identify these variables by running the <code>glimpse</code> function in the <code>dplyr</code> package:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">glimpse</span>(flights)</code></pre></div>
<p>However, say you only want to consider two of these variables, say <code>carrier</code> and <code>flight</code>. You can <code>select</code> these:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">flights %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(carrier, flight)</code></pre></div>
<p>Another one of these variables is <code>year</code>. If you remember the original description of the <code>flights</code> data frame (or by running <code>?flights</code>), you’ll remember that this data correspond to flights in 2013 departing New York City. The <code>year</code> variable isn’t really a variable here in that it doesn’t vary… <code>flights</code> actually comes from a larger data set that covers many years. We may want to remove the <code>year</code> variable from our data set since it won’t be helpful for analysis in this case. We can deselect <code>year</code> by using the <code>-</code> sign:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">flights_no_year &lt;-<span class="st"> </span>flights %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(-year)
<span class="kw">names</span>(flights_no_year)</code></pre></div>
<p>Or we could specify a ranges of columns:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">flight_arr_times &lt;-<span class="st"> </span>flights %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(month:day, arr_time:sched_arr_time)
flight_arr_times</code></pre></div>
<p>The <code>select</code> function can also be used to reorder columns in combination with the <code>everything</code> helper function. Let’s suppose we’d like the <code>hour</code>, <code>minute</code>, and <code>time_hour</code> variables, which appear at the end of the <code>flights</code> data set, to actually appear immediately after the <code>day</code> variable:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">flights_reorder &lt;-<span class="st"> </span>flights %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(month:day, hour:time_hour, <span class="kw">everything</span>())
<span class="kw">names</span>(flights_reorder)</code></pre></div>
<p>in this case <code>everything()</code> picks up all remaining variables. Lastly, the helper functions <code>starts_with</code>, <code>ends_with</code>, and <code>contains</code> can be used to choose column names that match those conditions:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">flights_begin_a &lt;-<span class="st"> </span>flights %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(<span class="kw">starts_with</span>(<span class="st">&quot;a&quot;</span>))
flights_begin_a</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">flights_delays &lt;-<span class="st"> </span>flights %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(<span class="kw">ends_with</span>(<span class="st">&quot;delay&quot;</span>))
flights_delays</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">flights_time &lt;-<span class="st"> </span>flights %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(<span class="kw">contains</span>(<span class="st">&quot;time&quot;</span>))
flights_time</code></pre></div>
</div>
<div id="rename" class="section level3">
<h3><span class="header-section-number">5.4.2</span> Rename variables using rename</h3>
<p>Another useful function is <code>rename</code>, which as you may suspect renames one column to another name. Suppose we wanted <code>dep_time</code> and <code>arr_time</code> to be <code>departure_time</code> and <code>arrival_time</code> instead in the <code>flights_time</code> data frame:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">flights_time_new &lt;-<span class="st"> </span>flights %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(<span class="kw">contains</span>(<span class="st">&quot;time&quot;</span>)) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">rename</span>(<span class="dt">departure_time =</span> dep_time,
         <span class="dt">arrival_time =</span> arr_time)
<span class="kw">names</span>(flights_time)</code></pre></div>
<p>It’s easy to forget if the new name comes before or after the equals sign. I usually remember this as “New Before, Old After” or NBOA. You’ll receive an error if you try to do it the other way:</p>
<pre><code>Error: Unknown variables: departure_time, arrival_time.</code></pre>
</div>
<div id="find-the-top-number-of-values-using-top_n" class="section level3">
<h3><span class="header-section-number">5.4.3</span> Find the top number of values using top_n</h3>
<p>We can also use the <code>top_n</code> function which automatically tells us the most frequent <code>num_flights</code>. We specify the top 10 airports here:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">named_dests %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">top_n</span>(<span class="dt">n =</span> <span class="dv">10</span>, <span class="dt">wt =</span> num_flights)</code></pre></div>
<p>We’ll still need to arrange this by <code>num_flights</code> though:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">named_dests  %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">top_n</span>(<span class="dt">n =</span> <span class="dv">10</span>, <span class="dt">wt =</span> num_flights) %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">arrange</span>(<span class="kw">desc</span>(num_flights))</code></pre></div>
<p><strong>Note:</strong> Remember that I didn’t pull the <code>n</code> and <code>wt</code> arguments out of thin air. They can be found by using the <code>?</code> function on <code>top_n</code>.</p>
<p>We can go one stop further and tie together the <code>group_by</code> and <code>summarize</code> functions we used to find the most frequent flights:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ten_freq_dests &lt;-<span class="st"> </span>flights %&gt;%
<span class="st">  </span><span class="kw">group_by</span>(dest) %&gt;%
<span class="st">  </span><span class="kw">summarize</span>(<span class="dt">num_flights =</span> <span class="kw">n</span>()) %&gt;%
<span class="st">  </span><span class="kw">top_n</span>(<span class="dt">n =</span> <span class="dv">10</span>) %&gt;%
<span class="st">  </span><span class="kw">arrange</span>(<span class="kw">desc</span>(num_flights))
<span class="kw">View</span>(ten_freq_dests)</code></pre></div>
<hr />
<div class="learncheck">
<p>
<strong><em>Learning check</em></strong>
</p>
</div>
<p><strong>(LC5.15)</strong> What are some ways to select all three of the <code>dest</code>, <code>air_time</code>, and <code>distance</code> variables from <code>flights</code>? Give the code showing how to do this in at least three different ways.</p>
<p><strong>(LC5.16)</strong> How could one use <code>starts_with</code>, <code>ends_with</code>, and <code>contains</code> to select columns from the <code>flights</code> data frame? Provide three different examples in total: one for <code>starts_with</code>, one for <code>ends_with</code>, and one for <code>contains</code>.</p>
<p><strong>(LC5.17)</strong> Why might we want to use the <code>select</code> function on a data frame?</p>
<p><strong>(LC5.18)</strong> Create a new data frame that shows the top 5 airports with the largest arrival delays from NYC in 2013.</p>
<hr />
<!--Subsection on Conclusion -->
</div>
</div>
<div id="conclusion-1" class="section level2">
<h2><span class="header-section-number">5.5</span> Conclusion</h2>
<div id="resources-1" class="section level3">
<h3><span class="header-section-number">5.5.1</span> Resources</h3>
<p>As we saw with the RStudio cheatsheet on <a href="https://www.rstudio.com/wp-content/uploads/2016/11/ggplot2-cheatsheet-2.1.pdf">data visualization</a>, RStudio has also created a cheatsheet for data manipulation entitled <a href="https://github.com/rstudio/cheatsheets/raw/master/source/pdfs/data-transformation-cheatsheet.pdf">“Data Transformation with dplyr”</a>.</p>
<!--
* By clicking [here](https://github.com/rstudio/cheatsheets/raw/master/source/pdfs/data-transformation-cheatsheet.pdf)

* Or by clicking the RStudio Menu Bar -> Help -> Cheatsheets -> "Data Manipulation with `dplyr`, `tidyr`"
(The RStudio interface has not been updated to include JUST the dplyr cheatsheet)

We will focus only on the `dplyr` functions in this book, but you are encouraged to also explore `tidyr` if you are presented with data that is not in the tidy format that we have specified as the preferred option for our purposes.
-->
</div>
<div id="script-of-r-code-1" class="section level3">
<h3><span class="header-section-number">5.5.2</span> Script of R code</h3>
<p>An R script file of all R code used in this chapter is available <a href="http://ismayc.github.io/moderndiver-book/scripts/05-manip.R">here</a>.</p>
<hr />
<hr />
<div class="review">
<p>
<strong><em>Review questions</em></strong>
</p>
</div>
<p>Review questions have been designed using the <code>fivethirtyeight</code> R package <span class="citation">(Ismay and Chunn <a href="#ref-R-fivethirtyeight">2017</a>)</span> with links to the corresponding FiveThirtyEight.com articles in our free DataCamp course <strong>Effective Data Storytelling using the <code>tidyverse</code></strong>. The material in this chapter is covered in the chapters of the DataCamp course available below:</p>
<ul>
<li><p><a href="https://campus.datacamp.com/courses/effective-data-storytelling-using-the-tidyverse/filtering-grouping-summarizing">Filtering, Grouping, &amp; Summarizing</a></p></li>
<li><p><a href="https://campus.datacamp.com/courses/effective-data-storytelling-using-the-tidyverse/dplyr-review-8?ex=1">dplyr Review</a></p></li>
</ul>
<hr />
<hr />
</div>
<div id="whats-to-come-2" class="section level3">
<h3><span class="header-section-number">5.5.3</span> What’s to come?</h3>
<p>This concludes the <strong>Data Exploration</strong> unit of this book. You should be pretty proficient in both plotting variables (or multiple variables together) in various data sets and manipulating data as we’ve done in this chapter. You are encouraged to step back through the code in earlier chapters and make changes as you see fit based on your updated knowledge.</p>
<p>In Chapter <a href="#sim"><strong>??</strong></a>, we’ll begin to build the pieces needed to understand how this unit of <strong>Data Exploration</strong> can tie into statistical inference in the <strong>Inference</strong> part of the book. Remember that the focus throughout is on data visualization and we’ll see that next when we discuss sampling, resampling, and bootstrapping. These ideas will lead us into hypothesis testing and confidence intervals.</p>

<div id="refs" class="references">
<div>
<p>Chihara, Laura M., and Tim C. Hesterberg. 2011. <em>Mathematical Statistics with Resampling and R</em>. Hoboken, NJ: John Wiley; Sons. <a href="https://sites.google.com/site/chiharahesterberg/home" class="uri">https://sites.google.com/site/chiharahesterberg/home</a>.</p>
</div>
<div>
<p>Diez, David M, Christopher D Barr, and Mine Çetinkaya-Rundel. 2014. <em>Introductory Statistics with Randomization and Simulation</em>. First Edition. <a href="https://www.openintro.org/stat/textbook.php?stat_book=isrs" class="uri">https://www.openintro.org/stat/textbook.php?stat_book=isrs</a>.</p>
</div>
<div>
<p>Grolemund, Garrett, and Hadley Wickham. 2016. <em>R for Data Science</em>. <a href="http://r4ds.had.co.nz/" class="uri">http://r4ds.had.co.nz/</a>.</p>
</div>
<div>
<p>Ismay, Chester. 2016. <em>Getting Used to R, RStudio, and R Markdown</em>. <a href="http://ismayc.github.io/rbasics-book" class="uri">http://ismayc.github.io/rbasics-book</a>.</p>
</div>
<div>
<p>Ismay, Chester, and Jennifer Chunn. 2017. <em>Fivethirtyeight: Data and Code Behind the Stories and Interactives at ’Fivethirtyeight’</em>. <a href="https://CRAN.R-project.org/package=fivethirtyeight" class="uri">https://CRAN.R-project.org/package=fivethirtyeight</a>.</p>
</div>
<div>
<p>Robbins, Naomi. 2013. <em>Creating More Effective Graphs</em>. Chart House.</p>
</div>
<div>
<p>Wickham, Hadley. 2014. “Tidy Data.” <em>Journal of Statistical Software</em> Volume 59 (Issue 10). <a href="https://www.jstatsoft.org/index.php/jss/article/view/v059i10/v59i10.pdf" class="uri">https://www.jstatsoft.org/index.php/jss/article/view/v059i10/v59i10.pdf</a>.</p>
</div>
<div>
<p>———. 2017. <em>Nycflights13: Flights That Departed Nyc in 2013</em>. <a href="https://CRAN.R-project.org/package=nycflights13" class="uri">https://CRAN.R-project.org/package=nycflights13</a>.</p>
</div>
<div>
<p>Wickham, Hadley, and Winston Chang. 2016. <em>Ggplot2: Create Elegant Data Visualisations Using the Grammar of Graphics</em>. <a href="https://CRAN.R-project.org/package=ggplot2" class="uri">https://CRAN.R-project.org/package=ggplot2</a>.</p>
</div>
<div>
<p>Wickham, Hadley, and Romain Francois. 2016. <em>Dplyr: A Grammar of Data Manipulation</em>. <a href="https://CRAN.R-project.org/package=dplyr" class="uri">https://CRAN.R-project.org/package=dplyr</a>.</p>
</div>
<div>
<p>Wilkinson, Leland. 2005. <em>The Grammar of Graphics (Statistics and Computing)</em>. Secaucus, NJ, USA: Springer-Verlag New York, Inc.</p>
</div>
<div>
<p>Xie, Yihui. 2016. <em>Bookdown: Authoring Books and Technical Documents with R Markdown</em>. <a href="https://CRAN.R-project.org/package=bookdown" class="uri">https://CRAN.R-project.org/package=bookdown</a>.</p>
</div>
</div>
</div>
</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-R-dplyr">
<p>Wickham, Hadley, and Romain Francois. 2016. <em>Dplyr: A Grammar of Data Manipulation</em>. <a href="https://CRAN.R-project.org/package=dplyr" class="uri">https://CRAN.R-project.org/package=dplyr</a>.</p>
</div>
<div id="ref-rds2016">
<p>Grolemund, Garrett, and Hadley Wickham. 2016. <em>R for Data Science</em>. <a href="http://r4ds.had.co.nz/" class="uri">http://r4ds.had.co.nz/</a>.</p>
</div>
<div id="ref-R-fivethirtyeight">
<p>Ismay, Chester, and Jennifer Chunn. 2017. <em>Fivethirtyeight: Data and Code Behind the Stories and Interactives at ’Fivethirtyeight’</em>. <a href="https://CRAN.R-project.org/package=fivethirtyeight" class="uri">https://CRAN.R-project.org/package=fivethirtyeight</a>.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="4-viz.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>


<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/ismayc/moderndiver-lite/edit/master/05-manip.Rmd",
"text": "Edit"
},
"download": null,
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

</body>

</html>
